var Elemap;(()=>{"use strict";var t={d:(e,i)=>{for(var s in i)t.t(i,s)&&!t.t(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},t:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};(()=>{t.d(e,{default:()=>et});class i{constructor(){}get i(){return M.map.h(this.o.i)}get l(){return{u:`.elemap-${this.o.i.map}`}}}var s,h,r;function n(t,e){return parseFloat(t.toFixed(e))}!function(t){t.Plain="plain",t.Rectangle="rectangle",t.Hexagon="hexagon"}(s||(s={})),function(t){t.Pointy="pointy",t.Flat="flat"}(h||(h={})),function(t){t.Odd="odd",t.Even="even"}(r||(r={}));const o=2/Math.sqrt(3);function l(t,e,i=0,s={top:0,left:0}){const r=Math.sin(30*Math.PI/180);const o=Math.cos(30*Math.PI/180),l=$(e.p),u=$(e.$)/(l*o*2),a=$(e.m)/(2*l);let d=0,c=0,p=n(l*o*u,2),g=n(l*r*a,2),f=n(p-i*o*u,2),m=n(i*r*a,2),x=n(p+i*o*u,2),v=n(2*p,2),y=n(g+l,2),b=n(v-i*o*u,2),w=n(g-i*r*a,2),z=n(g+i*a,2),S=n(y+g,2),C=n(y-i*a,2),L=n(y+i*r*a,2),N=n(S-i*r*a,2),Q=n(i*o*u,2);if(t===h.Pointy)return d=n(d+s.left,2),p=n(p+s.left,2),f=n(f+s.left,2),x=n(x+s.left,2),v=n(v+s.left,2),b=n(b+s.left,2),Q=n(Q+s.left,2),c=n(c+s.top,2),g=n(g+s.top,2),m=n(m+s.top,2),w=n(w+s.top,2),z=n(z+s.top,2),y=n(y+s.top,2),C=n(C+s.top,2),L=n(L+s.top,2),S=n(S+s.top,2),N=n(N+s.top,2),`M ${f},${m}Q ${p},${c} ${x},${m} L ${b},${w}Q ${v},${g} ${v},${z} L ${v},${C}Q ${v},${y} ${b},${L} L ${x},${N}Q ${p},${S} ${f},${N} L ${Q},${L}Q ${d},${y} ${d},${C} L ${d},${z}Q ${d},${g} ${Q},${w} Z`;if(t===h.Flat)return d=n(d+s.top,2),p=n(p+s.top,2),f=n(f+s.top,2),x=n(x+s.top,2),v=n(v+s.top,2),b=n(b+s.top,2),Q=n(Q+s.top,2),c=n(c+s.left,2),g=n(g+s.left,2),m=n(m+s.left,2),w=n(w+s.left,2),z=n(z+s.left,2),y=n(y+s.left,2),C=n(C+s.left,2),L=n(L+s.left,2),S=n(S+s.left,2),N=n(N+s.left,2),`M ${m},${f}Q ${c},${p} ${m},${x} L ${w},${b}Q ${g},${v} ${z},${v} L ${C},${v}Q ${y},${v} ${L},${b} L ${N},${x}Q ${S},${p} ${N},${f} L ${L},${Q}Q ${y},${d} ${C},${d} L ${z},${d}Q ${g},${d} ${w},${Q} Z`;throw new Error("Invalid hexagon type")}function u(t,e=0,i={top:0,left:0}){let s=0,h=0,r=s+e,o=h+e,l=$(t.width),u=l-e,a=$(t.height),d=a-e;return s=n(s+i.left,2),l=n(l+i.left,2),u=n(u+i.left,2),r=n(r+i.left,2),h=n(h+i.top,2),a=n(a+i.top,2),o=n(o+i.top,2),d=n(d+i.top,2),`M ${s},${o}A ${e},${e} 0 0 1 ${r},${h} L ${u},${h}A ${e},${e} 0 0 1 ${l},${o} L ${l},${d}A ${e},${e} 0 0 1 ${u},${a} L ${r},${a}A ${e},${e} 0 0 1 ${s},${d} Z`}function a(t){return{x:t.v,y:t.S}}function d(t){return{v:t.x,S:t.y}}function c(t){return t&&"object"==typeof t&&!Array.isArray(t)}function p(t,e,i=!0){for(const s in e)if(t.hasOwnProperty("$"+s)){let h=t["$"+s],r=e[s];c(h)&&c(r)?p(h,r):t["$"+s]=i?r:h+r}}function $(t){return t.endsWith("px")?Number(t.slice(0,-2)):Number(t)}function g(t){return"string"==typeof t&&!isNaN(Number(t))}function f(t){if("number"==typeof t)return t;if(g(t))return Number(t);if(t.endsWith("px")&&g(t.slice(0,-2)))return Number(t.slice(0,-2));throw new Error(`Invalid calc value: ${t}`)}function m(t){return"number"==typeof t||"string"==typeof t&&(!!g(t)||!(!t.endsWith("px")||!g(t.slice(0,-2))))}function x(t){return t.every(m)}const v=(...t)=>{if(void 0===t[0]||0===t.length)return"0px";if(void 0===t[1]||1===t.length)return`${f(t[0])}px`;if(x(t)){let e=f(t[0]);for(let i=1;i<t.length;i++)e+=f(t[i]);return`${n(e,4)}px`}return`calc(${t.join(" + ")})`},y=function(...t){if(void 0===t[0]||0===t.length)return"0px";if(void 0===t[1]||1===t.length)return`${f(t[0])}px`;if(x(t)){let e=f(t[0]);for(let i=1;i<t.length;i++)e-=f(t[i]);return`${n(e,4)}px`}return`calc(${t.join(" - ")})`},b=(...t)=>{if(void 0===t[0]||0===t.length)return"0px";if(void 0===t[1]||1===t.length)return`${f(t[0])}px`;if(x(t)){let e=f(t[0]);for(let i=1;i<t.length;i++)e*=f(t[i]);return`${n(e,4)}px`}return`calc(${t.join(" * ")})`},w=(...t)=>{if(void 0===t[0]||0===t.length)return"0px";if(void 0===t[1]||1===t.length)return`${f(t[0])}px`;if(x(t)){let e=f(t[0]);for(let i=1;i<t.length;i++)e/=f(t[i]);return`${n(e,4)}px`}return`calc(${t.join(" / ")})`},z=(t,e)=>`${n(f(t),e)}px`;class S extends i{set o(t){this.C=t}get o(){return this.C}get i(){return M.grid.h(this.o.i)}get map(){return M.style.map.grid(this.o.i)}set L(t){this.N=t}get L(){return this.N}set j(t){this.k=t}get j(){return this.k}set I(t){this.M=t}get I(){return this.M}constructor(t,e,i){super(),this.o=new E(t,e,M.id()),this.A(i),this.L=i.grid}get l(){let t=`.elemap-${this.o.i.map}`,e=t+"-grid";return{u:t,frame:e+"-frame",grid:e,T:e+">div",I:e+">div>div",B:e+"-outer",R:e+"-inner",G:e+"-outer>div",q:e+"-inner>div",O:e+"-outer>div>div",P:e+"-inner>div>div",H:e+"-contour"}}get spacing(){return b(this.I.j.inner.marginRight,2)}get Z(){return this.l.frame+"{display:block;position:absolute;z-index:50;}"+this.l.grid+"{overflow:hidden;}"+this.l.T+"{display:flex;width:max-content;position:relative;pointer-events:none;}"+this.l.I+"{pointer-events:auto;float:left;}"+this.l.B+"{position:absolute;z-index:100;}"+this.l.G+"{z-index:110;}"+this.l.O+"{position:absolute;z-index:120;}"+this.l.O+":before{z-index:130;}"+this.l.O+":after{z-index:140;}"+this.l.R+"{position:relative;width:max-content;z-index:150;}"+this.l.q+"{z-index:160;}"+this.l.P+"{position:relative;z-index:170;}"+this.l.P+":after{z-index:190;}"+this.l.P+">*{position:relative;z-index:200;}"+this.l.H+"{display:block;position:absolute;z-index:210;pointer-events:none;}"+this.l.H+">div{display:block;position:absolute;z-index:220;}"}get F(){return this.l.frame+"{"+this.L.frame+"}"+this.l.H+">div{"+this.L.H+"}"}get D(){let t=`{top: ${this.map.j.map.paddingTop};right: ${this.map.j.map.paddingRight};bottom: ${this.map.j.map.paddingBottom};left: ${this.map.j.map.paddingLeft};}`;return this.l.grid+"{"+`padding:${w(this.spacing,2)};}`+this.l.frame+t+this.l.B+t+this.l.H+t+this.l.G+"{"+`width: ${y(b(this.I.size.J.width,this.i.size.width),b(this.spacing,this.i.size.width))};}`+this.l.T+"{"+`height:${this.I.size.J.height};}`+this.l.O+"{"+`width:${this.I.size.J.width};`+`height:${this.I.size.J.height};}`+this.l.H+">div{display:none;top:0;left:0;"+`width:${this.I.size.K.width};`+`height:${this.I.size.K.height};}`+this.l.frame+"{"+`clip-path: path('${this.U}');}`+this.V}compute(){this.j={J:getComputedStyle(this.i.elements.J),inner:getComputedStyle(this.i.elements.inner),W:getComputedStyle(this.i.elements.W)},this.I.compute()}}class C{constructor(t){this.map=t}}class L extends C{}class N extends L{constructor(t,e){super(t.map),this.grid=e}}class Q extends N{constructor(t,e){super(t,t.grid),this.I=e}}class j{constructor(t,e){this.i=t,this.map=e}}class k extends j{}class E extends k{constructor(t,e,i){super(t,e.map),this.grid=i}}class I extends E{constructor(t,e,i){super(t,e,i),this.I=i}}class M{static id(){return M.X++}static add(t){M.Y.set(t.o.map,t)}}M.X=0,M.Y=new Map,M.map={h:t=>M.Y.get(t.map),grid:t=>{let e=M.map.h(t);if(e&&e instanceof T)return e}},M.grid={h:t=>{let e=M.map.h(t);if(e&&e instanceof T)return e.grid},tt:t=>{let e=M.map.h(t);if(e&&e instanceof T)return e.grid},et:t=>{let e=M.map.h(t);if(e&&e instanceof T)return e.grid}},M.I={h:t=>{let e=M.grid.h(t);if(e)return e.it(t)}},M.style={map:{grid:t=>{let e=M.map.h(t);if(e&&e instanceof T)return e.style}},grid:t=>{let e=M.map.h(t);if(e&&e instanceof T)return e.style.grid},I:t=>{let e=M.map.h(t);if(e&&e instanceof T&&e.style.grid&&e.style.grid instanceof S)return e.style.grid.I}};class A{set o(t){this.C=t}get o(){return this.C}set elements(t){this.st=t}get elements(){return this.st}set style(t){this.ht=t}get style(){return this.ht}get rt(){return{u:`elemap-${this.o.map}`,container:`elemap-${this.o.map}-container`,map:`elemap-${this.o.map}-map`}}constructor(t){this.o=new L(M.id()),M.add(this),this.elements=this.nt()}nt(){let t=document.createElement("div");return t.classList.add(`elemap-${this.o.map}-map`),{map:t}}ot(t){for(let e of document.getElementsByClassName("elemap-"+this.o.map+"-container"))e!==t&&e.classList.remove("elemap-"+this.o.map+"-container");this.elements.container!==t&&(this.elements.container=t,this.elements.container.classList.add("elemap-"+this.o.map+"-container")),this.elements.container.appendChild(this.elements.map)}render(t){this.ot(t),this.style.render()}}class T extends A{set grid(t){this.lt=t}get grid(){return this.lt}set style(t){this.ht=t}get style(){return this.ht}constructor(t,e,i){super(t),this.grid=new i(this.o,t),this.ut(e)}render(t){this.ot(t),this.grid.render(this.elements.map),this.style.render()}}class B{set o(t){this.C=t}get o(){return this.C}set size(t){this.dt=t}get size(){return this.dt}I(t,e){return this.ct(t,e)}tileByIndex(t,e){var i;return null===(i=this.$t[t])||void 0===i?void 0:i[e]}it(t){for(let e in this.$t)for(let i in this.$t[e])if(this.$t[e][i].o.I===t.I)return this.$t[e][i]}get style(){return M.map.grid(this.o).style.grid}get rt(){let t=`elemap-${this.o.map}`;return{u:t,frame:t+"-frame",grid:t+"-grid",B:t+"-outer",R:t+"-inner",H:t+"-contour"}}get l(){return this.style.l}set orientation(t){this.gt=t}get orientation(){return this.gt}set offset(t){this.ft=t}get offset(){return this.ft}set elements(t){this.st=t}get elements(){return this.st}constructor(t,e){this.$t=[],this.o=new N(t,M.id()),this.size=e.size,this.orientation=e.grid.orientation,this.offset=e.grid.offset,this.xt()}nt(){this.elements||(this.elements={frame:document.createElement("div"),J:document.createElement("div"),inner:document.createElement("div"),vt:[],yt:[],H:document.createElement("div"),W:document.createElement("div")},this.elements.frame.classList.add("elemap-"+this.o.map+"-grid-frame"),this.elements.J.classList.add("elemap-"+this.o.map+"-grid"),this.elements.J.classList.add("elemap-"+this.o.map+"-grid-outer"),this.elements.inner.classList.add("elemap-"+this.o.map+"-grid"),this.elements.inner.classList.add("elemap-"+this.o.map+"-grid-inner"),this.elements.H.classList.add("elemap-"+this.o.map+"-grid-contour"),this.elements.H.appendChild(this.elements.W))}render(t){this.nt(),t.innerHTML="";for(let t in this.$t){void 0===this.elements.vt[t]&&(this.elements.vt[t]=document.createElement("div"),this.elements.J.appendChild(this.elements.vt[t])),void 0===this.elements.yt[t]&&(this.elements.yt[t]=document.createElement("div"),this.elements.inner.appendChild(this.elements.yt[t]));for(let e in this.$t[t])this.$t[Number(t)][Number(e)].render()}t.appendChild(this.elements.frame),t.appendChild(this.elements.J),t.appendChild(this.elements.inner),t.appendChild(this.elements.H),this.elements.inner.addEventListener("mouseover",(t=>{let e=t.target.closest(this.l.P);e&&this.wt(e).bt()})),this.elements.inner.addEventListener("mouseout",(t=>{let e=t.target.closest(this.l.P);e&&this.wt(e).zt()}))}St(t){!1===t?this.elements.W.removeAttribute("style"):(this.elements.W.style.display="block",this.elements.W.style.transform=`translate(${t.x}px, ${t.y}px)`)}}const R={J:"",inner:"",bt:{J:"",inner:""}};function G(t,e=R){let i={$outer:"",$inner:"",$hover:{$outer:"",$inner:""}};return p(i,t,!1),{J:e.J+i.$outer,inner:e.inner+i.$inner,bt:{J:e.bt.J+i.$hover.$outer,inner:e.bt.inner+i.$hover.$inner}}}class q{set o(t){this.C=t}get o(){return this.C}get grid(){return M.grid.h(this.o)}set style(t){this.ht=t}get style(){return void 0!==this.ht?this.ht:M.style.I(this.o)}set elements(t){this.st=t}get elements(){return this.st}set index(t){this.Ct=t}get index(){return this.Ct}constructor(t,e){this.Lt=!1,this.o=new Q(t,M.id()),this.index=e}updateStyle(t,e=!1){void 0===this.ht||e?this.style=this.Nt(G(t)):this.style=this.Nt(G(t,this.style.L)),this.Lt&&this.render()}nt(){this.elements||(this.elements={inner:document.createElement("div")}),void 0===this.ht||this.style.Qt||(this.elements.style||(this.elements.style=document.createElement("style"),this.elements.style.classList.add("elemap-"+this.o.map+"-css-tile-"+this.o.I)),this.elements.J||!this.style.L.J.length&&!this.style.L.bt.J.length||(this.elements.J=document.createElement("div")))}jt(){this.elements.J&&(this.elements.J.dataset.elemapI=this.index.v.toString(),this.elements.J.dataset.elemapJ=this.index.S.toString()),this.elements.inner.dataset.elemapI=this.index.v.toString(),this.elements.inner.dataset.elemapJ=this.index.S.toString()}render(){let t=this.grid.elements.vt[this.index.v],e=this.grid.elements.yt[this.index.v];this.nt(),this.jt(),this.kt(),this.elements.style&&(this.elements.style.innerHTML=this.style.Z+this.style.F+this.style.D,document.head.appendChild(this.elements.style)),this.elements.J&&(t.contains(this.elements.J)||t.appendChild(this.elements.J)),e.contains(this.elements.inner)||e.appendChild(this.elements.inner),this.Lt=!0}bt(){let t=M.grid.h(this.o);t&&t.St(this.Et)}zt(){let t=M.grid.h(this.o);t&&t.St(!1)}get Et(){let t=M.grid.h(this.o);if(t){let e=this.elements.inner,i={x:0,y:0};for(;e;)if(i.x+=e.offsetLeft,i.y+=e.offsetTop,e=e.parentElement,e===t.elements.inner)return{x:i.x-$(t.style.spacing),y:i.y-$(t.style.spacing)}}return{x:0,y:0}}}class O extends i{set o(t){this.C=t}get o(){return this.C}get i(){return M.I.h(this.o.i)}get grid(){return M.style.grid(this.o.i)}get spacing(){return this.grid.spacing}set j(t){this.k=t}get j(){return this.k}get l(){return Object.assign(Object.assign({},this.grid.l),{data:this.Qt?"":this.i.l.data})}set L(t){this.N=t}get L(){return this.N}constructor(t,e,i,s=!1){super(),this.o=new I(t,e,M.id()),this.Qt=s,this.L=i}get size(){let t={width:this.j.inner.width,height:this.j.inner.height};return{K:{width:v(t.width,b(this.spacing,2)),height:v(t.height,b(this.spacing,2))},J:{width:v(t.width,this.spacing),height:v(t.height,this.spacing)},inner:t}}get Z(){return""}get F(){let t="";return this.L.J.length&&(t+=this.l.O+this.l.data+"{"+this.L.J+"}"),this.L.inner.length&&(t+=this.l.P+this.l.data+"{"+this.L.inner+"}"),this.L.bt.J.length&&(t+=this.l.O+this.l.data+":hover{"+this.L.bt.J+"}"),this.L.bt.inner.length&&(t+=this.l.P+this.l.data+":hover{"+this.L.bt.inner+"}"),t}get D(){let t="";return this.Qt&&(t+=this.l.H+">div{border:none;}",t+=this.It),t}get It(){let t="";for(let e of this.i.grid.$t)for(let i of e)t+=this.l.O+i.l.data+"{"+`left:${b(this.size.J.width,i.index.S)};}`;return t}compute(){this.j={inner:getComputedStyle(this.i.grid.ct(0,0).elements.inner)}}}class P extends O{}class H extends q{set coords(t){this.Mt=t}get coords(){return this.Mt}constructor(t,e,i){super(t,e),this.coords=i}set style(t){this.ht=t}get style(){return void 0!==this.ht?this.ht:M.style.I(this.o)}Nt(t){return new P(this.o,this.grid.style.o,t)}kt(){this.elements.J&&(this.elements.J.dataset.elemapX=this.coords.x.toString(),this.elements.J.dataset.elemapY=this.coords.y.toString()),this.elements.inner.dataset.elemapX=this.coords.x.toString(),this.elements.inner.dataset.elemapY=this.coords.y.toString()}get l(){return{data:`[data-elemap-x="${this.coords.x}"][data-elemap-y="${this.coords.y}"]`}}}class Z extends B{constructor(t,e){super(t,e)}xt(){for(let t=0;t<this.size.height;t++){this.$t[t]=[];for(let e=0;e<this.size.width;e++)this.$t[t][e]=new H(this.o,{v:t,S:e},a({v:t,S:e}))}}ct(t,e){let i=d({x:t,y:e});return this.tileByIndex(i.v,i.S)}wt(t){if(t.hasAttribute("data-elemap-x")&&t.hasAttribute("data-elemap-y"))return this.ct(Number(t.getAttribute("data-elemap-x")),Number(t.getAttribute("data-elemap-y")))}}class F extends i{set o(t){this.C=t}get o(){return this.C}set L(t){this.N=t}get L(){return this.N}set elements(t){this.st=t}get elements(){return this.st}set j(t){this.k=t}get j(){return this.k}constructor(t,e){super(),this.o=new k(t,M.id()),this.L=e.map,this.elements=this.nt()}nt(){let t=document.createElement("style");t.classList.add(this.i.rt.u+"-css-core"),document.head.appendChild(t);let e=document.createElement("style");e.classList.add(this.i.rt.u+"-css-schema"),document.head.appendChild(e);let i=document.createElement("style");return i.classList.add(this.i.rt.u+"-css-generated"),document.head.appendChild(i),{Z:t,F:e,D:i}}render(){this.elements.Z.innerHTML=this.Z,this.elements.F.innerHTML=this.F,this.i.elements.map.offsetHeight,this.compute(),this.elements.D.innerHTML=this.D}get l(){return{u:`.elemap-${this.o.i.map}`,container:`.elemap-${this.o.i.map}-container`,map:`.elemap-${this.o.i.map}-map`}}get Z(){return this.l.container+"{width:max-content;}"+this.l.map+"{position:relative;width:max-content;z-index:10;}"}get F(){return this.l.map+"{"+this.L.J+"}"+this.l.map+">*{"+this.L.inner+"}"}compute(){this.j={map:getComputedStyle(this.i.elements.map)}}get D(){return""}}class D extends F{set grid(t){this.lt=t}get grid(){return this.lt}get i(){return M.map.grid(this.o.i)}constructor(t,e){super(t,e),this.At(e)}render(){this.elements.Z.innerHTML=this.Z+this.grid.Z+this.grid.I.Z,this.elements.F.innerHTML=this.F+this.grid.F+this.grid.I.F,this.i.elements.map.offsetHeight,this.i.grid.elements.inner.offsetHeight,this.compute(),this.elements.D.innerHTML=this.D+this.grid.D+this.grid.I.D}compute(){this.j={map:getComputedStyle(this.i.elements.map)},this.grid.compute()}}class J extends S{get i(){return M.grid.tt(this.o.i)}set I(t){this.M=t}get I(){return this.M}A(t){this.I=new P(this.i.tileByIndex(0,0).o,this.o,t.I,!0)}get V(){let t=n($(this.j.W.borderWidth),0)+"px",e={width:y(this.I.size.K.width,b(t,2)),height:y(this.I.size.K.height,b(t,2))},i=u(this.I.size.K,$(this.I.j.inner.borderRadius)),s=u(e,$(this.I.j.inner.borderRadius),{top:$(t),left:$(t)});return this.l.H+">div{"+`clip-path:path(evenodd,'${i} ${s}');}`}get U(){let t="";for(let e=0;e<this.i.size.height;e++)for(let i=0;i<this.i.size.width;i++)""!==t&&(t+=" "),t+=u(this.I.size.K,$(this.I.j.inner.borderRadius),{top:e*($(this.I.size.K.height)-$(this.spacing)),left:i*($(this.I.size.K.width)-$(this.spacing))});return t}}class K extends D{At(t){this.grid=new J(this.i.grid.o,this.o,t)}}class U extends T{constructor(t,e){super(t,e,Z)}ut(t){this.style=new K(this.o,t)}}class V extends O{get It(){let t="";for(let e of this.i.grid.$t)for(let i of e)t+=this.l.O+i.l.data+"{"+`left:${y(b(this.size.J.width,i.index.S),b(this.grid.Bt.Tt,i.index.S))};}`;return t}}class W extends q{set coords(t){this.Mt=t}get coords(){return this.Mt}constructor(t,e,i){super(t,e),this.coords=i}set style(t){this.ht=t}get style(){return void 0!==this.ht?this.ht:M.style.I(this.o)}Nt(t){return new V(this.o,this.grid.style.o,t)}kt(){this.elements.J&&(this.elements.J.dataset.elemapR=this.coords.r.toString(),this.elements.J.dataset.elemapQ=this.coords.Rt.toString()),this.elements.inner.dataset.elemapR=this.coords.r.toString(),this.elements.inner.dataset.elemapQ=this.coords.Rt.toString()}get l(){return{data:`[data-elemap-r="${this.coords.r}"][data-elemap-q="${this.coords.Rt}"]`}}}class X extends B{constructor(t,e){super(t,e)}xt(){for(let s=0;s<this.size.height;s++){this.$t[s]=[];for(let n=0;n<this.size.width;n++)this.$t[s][n]=new W(this.o,{v:s,S:n},(t={v:s,S:n},e=this.orientation,i=this.offset,function(t,e,i){let s={r:0,Rt:0};return e===h.Pointy?(s.r=t.x,i===r.Odd?s.Rt=t.y-(t.x-(1&t.x))/2:s.Rt=t.y-(t.x+(1&t.x))/2):(s.Rt=t.y,i===r.Odd?s.r=t.x-(t.y-(1&t.y))/2:s.r=t.x-(t.y+(1&t.y))/2),s}(a(t),e,i)))}var t,e,i}ct(t,e){let i=d(function(t,e,i){let s={x:0,y:0};return e===h.Pointy?(s.x=t.r,i===r.Odd?s.y=t.Rt+(t.r-(1&t.r))/2:s.y=t.Rt+(t.r+(1&t.r))/2):(s.y=t.Rt,i===r.Odd?s.x=t.r+(t.Rt-(1&t.Rt))/2:s.x=t.r+(t.Rt+(1&t.Rt))/2),s}({r:t,Rt:e},this.orientation,this.offset));return this.tileByIndex(i.v,i.S)}wt(t){if(t.hasAttribute("data-elemap-r")&&t.hasAttribute("data-elemap-q"))return this.ct(Number(t.getAttribute("data-elemap-r")),Number(t.getAttribute("data-elemap-q")))}Gt(t){return this.offset===r.Odd?t%2==1:t%2==0}}class Y extends S{get i(){return M.grid.et(this.o.i)}set I(t){this.M=t}get I(){return this.M}A(t){this.I=new V(this.i.tileByIndex(0,0).o,this.o,t.I,!0)}get qt(){return this.i.orientation===h.Pointy?{K:{p:w(this.I.size.K.height,2),m:this.I.size.K.height,$:this.I.size.K.width},J:{p:w(this.I.size.J.height,2),m:this.I.size.J.height,$:this.I.size.J.width},inner:{p:w(this.I.size.inner.height,2),m:this.I.size.inner.height,$:this.I.size.inner.width}}:{K:{p:w(this.I.size.K.width,2),m:this.I.size.K.width,$:this.I.size.K.height},J:{p:w(this.I.size.J.width,2),m:this.I.size.J.width,$:this.I.size.J.height},inner:{p:w(this.I.size.inner.width,2),m:this.I.size.inner.width,$:this.I.size.inner.height}}}compute(){this.j={J:getComputedStyle(this.i.elements.J),inner:getComputedStyle(this.i.elements.inner),W:getComputedStyle(this.i.elements.W)},this.I.compute(),this.Ot(),this.I.compute()}Ot(){let t,e;this.i.orientation===h.Pointy?(e=y(this.I.size.J.height,this.I.size.inner.height),t=z(b(this.I.size.inner.width,o),0),this.map.elements.F.innerHTML+=this.l.O+"{height:"+v(t,e)+"}"+this.l.P+"{height:"+t+"}"):(e=y(this.I.size.J.width,this.I.size.inner.width),t=z(b(this.I.size.inner.height,o),0),this.map.elements.F.innerHTML+=this.l.O+"{width:"+v(t,e)+"}"+this.l.P+"{width:"+t+"}")}get U(){let t="",e=$(this.I.size.K.height)-$(this.Bt.vertical)-$(this.spacing),i=$(this.I.size.K.width)-$(this.Bt.Tt)-$(this.spacing);for(let s=0;s<this.i.size.height;s++)for(let h=0;h<this.i.size.width;h++)""!==t&&(t+=" "),t+=l(this.i.orientation,this.qt.K,$(this.I.j.inner.borderRadius),{top:s*e+(this.i.Gt(h)?1:0)*$(this.Pt.vertical),left:h*i+(this.i.Gt(s)?1:0)*$(this.Pt.Tt)});return t}get V(){let t=n($(this.j.W.borderWidth),0)+"px",e=y(this.qt.K.m,b(t,2)),i={p:w(e,2),m:e,$:y(this.qt.K.$,b(t,2))},s=l(this.i.orientation,this.qt.K,$(this.I.j.inner.borderRadius)),h=l(this.i.orientation,i,$(this.I.j.inner.borderRadius),{top:$(t),left:$(t)});return this.l.P+"{"+`clip-path:path('${l(this.i.orientation,this.qt.inner,$(this.I.j.inner.borderRadius))}');}`+this.l.O+"{"+`clip-path:path('${l(this.i.orientation,this.qt.J,0)}');}`+this.l.H+">div{"+`clip-path:path(evenodd,'${s} ${h}');}`+this.Ht()+this.Zt()}Ht(){return this.i.orientation===h.Pointy?this.l.T+":not(:first-child){"+`margin-top:${y("0px",this.Bt.vertical)};}`:this.l.P+":not(:first-child){"+`margin-left:${y(w(this.spacing,2),this.Bt.Tt)};}`}get Bt(){return this.i.orientation===h.Pointy?{vertical:w(this.I.size.J.height,4),Tt:"0px"}:{vertical:"0px",Tt:w(this.I.size.J.width,4)}}Zt(){let t="even"===this.i.offset?"2n - 1":"2n";if(this.i.orientation===h.Pointy)return this.l.T+`:nth-child(${t}){`+`margin-left:${this.Pt.Tt};}`;{let e="";for(let i=0;i<this.i.size.width;i++)("2n - 1"===t&&i%2==0||"2n"===t&&i%2!=0)&&(e+=this.l.O+`[data-elemap-j="${i}"]{`+`margin-top:${this.Pt.vertical};`+`margin-bottom:${y("0px",this.Pt.vertical)};}`);return e+=this.l.P+`:nth-child(${t}){`+`margin-top:${v(w(this.spacing,2),this.Pt.vertical)};`+`margin-bottom:${v(w(this.spacing,2),y("0px",this.Pt.vertical))};}`,e+=this.l.T+":last-child{"+`height:${v(this.I.size.J.height,this.Pt.vertical)};}`,e}}get Pt(){return this.i.orientation===h.Pointy?{vertical:"0px",Tt:w(this.I.size.J.width,2)}:{vertical:w(this.I.size.J.height,2),Tt:"0px"}}}class _ extends D{At(t){this.grid=new Y(this.i.grid.o,this.o,t)}}class tt extends T{constructor(t,e){super(t,e,X)}ut(t){this.style=new _(this.o,t)}}class et{constructor(t,e){let i=function(t){let e={$type:s.Rectangle,$size:{$width:32,$height:18},$grid:{$orientation:h.Pointy,$offset:r.Odd}};return p(e,t),{type:e.$type,size:{width:e.$size.$width,height:e.$size.$height},grid:{orientation:e.$grid.$orientation,offset:e.$grid.$offset}}}(t),n=function(t){let e="padding:50px;background-color:#f5df8d;",i="border-radius:0;",s="background-color:#222222;",h="border: 2px solid transparent;background-color:#f5f5f5;",r="background-color:#222222;",n="width:100px;height:100px;border-radius:6px;background-color:#b2e090;margin:2px;",o={J:"background-color:#f5f5f5;",inner:""},l={$map:{$outer:"",$inner:""},$grid:{$frame:"",$contour:""},$tile:{$outer:"",$inner:"",$hover:{$outer:"",$inner:""}}};return p(l,t,!1),{map:{J:e+l.$map.$outer,inner:i+l.$map.$inner},grid:{frame:s+l.$grid.$frame,H:h+l.$grid.$contour},I:{J:r+l.$tile.$outer,inner:n+l.$tile.$inner,bt:{J:o.J+l.$tile.$hover.$outer,inner:o.inner+l.$tile.$hover.$inner}}}}(e);i.type===s.Rectangle?this._=new U(i,n):i.type===s.Hexagon&&(this._=new tt(i,n)),this._,this.render,this.tileByIndex}render(t){this._.render(t)}tileByIndex(t,e){let i=this._.grid.tileByIndex(t,e);if(i)return new it(i)}}class it{constructor(t){this._=t,this._,this.updateStyle}updateStyle(t,e=!1){this._.updateStyle(t,e)}}})(),Elemap=e.default})();