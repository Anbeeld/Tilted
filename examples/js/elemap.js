var Elemap;(()=>{"use strict";var t={d:(e,i)=>{for(var s in i)t.t(i,s)&&!t.t(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},t:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};(()=>{t.d(e,{default:()=>nt});class i{constructor(){}get i(){return M.map.h(this.o.i)}get l(){return{u:`.elemap-${this.o.i.map}`}}}var s,h,r;function n(t,e){return parseFloat(t.toFixed(e))}!function(t){t.p="plain",t.m="rectangle",t.$="hexagon"}(s||(s={})),function(t){t.v="pointy",t.S="flat"}(h||(h={})),function(t){t.C="odd",t.L="even"}(r||(r={}));const o=2/Math.sqrt(3);function l(t,e,i=0,s={top:0,left:0}){const r=Math.sin(30*Math.PI/180);const o=Math.cos(30*Math.PI/180),l=g(e.N),u=g(e.I)/(l*o*2),a=g(e.j)/(2*l);let d=0,c=0,p=n(l*o*u,2),m=n(l*r*a,2),$=n(p-i*o*u,2),f=n(i*r*a,2),x=n(p+i*o*u,2),v=n(2*p,2),y=n(m+l,2),w=n(v-i*o*u,2),b=n(m-i*r*a,2),z=n(m+i*a,2),S=n(y+m,2),C=n(y-i*a,2),Q=n(y+i*r*a,2),L=n(S-i*r*a,2),N=n(i*o*u,2);if(t===h.v)return d=n(d+s.left,2),p=n(p+s.left,2),$=n($+s.left,2),x=n(x+s.left,2),v=n(v+s.left,2),w=n(w+s.left,2),N=n(N+s.left,2),c=n(c+s.top,2),m=n(m+s.top,2),f=n(f+s.top,2),b=n(b+s.top,2),z=n(z+s.top,2),y=n(y+s.top,2),C=n(C+s.top,2),Q=n(Q+s.top,2),S=n(S+s.top,2),L=n(L+s.top,2),`M ${$},${f}Q ${p},${c} ${x},${f} L ${w},${b}Q ${v},${m} ${v},${z} L ${v},${C}Q ${v},${y} ${w},${Q} L ${x},${L}Q ${p},${S} ${$},${L} L ${N},${Q}Q ${d},${y} ${d},${C} L ${d},${z}Q ${d},${m} ${N},${b} Z`;if(t===h.S)return d=n(d+s.top,2),p=n(p+s.top,2),$=n($+s.top,2),x=n(x+s.top,2),v=n(v+s.top,2),w=n(w+s.top,2),N=n(N+s.top,2),c=n(c+s.left,2),m=n(m+s.left,2),f=n(f+s.left,2),b=n(b+s.left,2),z=n(z+s.left,2),y=n(y+s.left,2),C=n(C+s.left,2),Q=n(Q+s.left,2),S=n(S+s.left,2),L=n(L+s.left,2),`M ${f},${$}Q ${c},${p} ${f},${x} L ${b},${w}Q ${m},${v} ${z},${v} L ${C},${v}Q ${y},${v} ${Q},${w} L ${L},${x}Q ${S},${p} ${L},${$} L ${Q},${N}Q ${y},${d} ${C},${d} L ${z},${d}Q ${m},${d} ${b},${N} Z`;throw new Error("Invalid hexagon type")}function u(t,e=0,i={top:0,left:0}){let s=0,h=0,r=s+e,o=h+e,l=g(t.width),u=l-e,a=g(t.height),d=a-e;return s=n(s+i.left,2),l=n(l+i.left,2),u=n(u+i.left,2),r=n(r+i.left,2),h=n(h+i.top,2),a=n(a+i.top,2),o=n(o+i.top,2),d=n(d+i.top,2),`M ${s},${o}A ${e},${e} 0 0 1 ${r},${h} L ${u},${h}A ${e},${e} 0 0 1 ${l},${o} L ${l},${d}A ${e},${e} 0 0 1 ${u},${a} L ${r},${a}A ${e},${e} 0 0 1 ${s},${d} Z`}function a(t){return{x:t.k,y:t.M}}function d(t){return{k:t.x,M:t.y}}function c(t,e){if(t&&t.hasOwnProperty(e))return t[e]}function p(t,e,i){t&&(t[e]=i)}function g(t){return t.endsWith("px")?Number(t.slice(0,-2)):Number(t)}function m(t){return"string"==typeof t&&!isNaN(Number(t))}function $(t){if("number"==typeof t)return t;if(m(t))return Number(t);if(t.endsWith("px")&&m(t.slice(0,-2)))return Number(t.slice(0,-2));throw new Error(`Invalid calc value: ${t}`)}function f(t){return"number"==typeof t||"string"==typeof t&&(!!m(t)||!(!t.endsWith("px")||!m(t.slice(0,-2))))}function x(t){return t.every(f)}const v=(...t)=>{if(void 0===t[0]||0===t.length)return"0px";if(void 0===t[1]||1===t.length)return`${$(t[0])}px`;if(x(t)){let e=$(t[0]);for(let i=1;i<t.length;i++)e+=$(t[i]);return`${n(e,4)}px`}return`calc(${t.join(" + ")})`},y=function(...t){if(void 0===t[0]||0===t.length)return"0px";if(void 0===t[1]||1===t.length)return`${$(t[0])}px`;if(x(t)){let e=$(t[0]);for(let i=1;i<t.length;i++)e-=$(t[i]);return`${n(e,4)}px`}return`calc(${t.join(" - ")})`},w=(...t)=>{if(void 0===t[0]||0===t.length)return"0px";if(void 0===t[1]||1===t.length)return`${$(t[0])}px`;if(x(t)){let e=$(t[0]);for(let i=1;i<t.length;i++)e*=$(t[i]);return`${n(e,4)}px`}return`calc(${t.join(" * ")})`},b=(...t)=>{if(void 0===t[0]||0===t.length)return"0px";if(void 0===t[1]||1===t.length)return`${$(t[0])}px`;if(x(t)){let e=$(t[0]);for(let i=1;i<t.length;i++)e/=$(t[i]);return`${n(e,4)}px`}return`calc(${t.join(" / ")})`},z=(t,e)=>`${n($(t),e)}px`;class S extends i{set o(t){this.R=t}get o(){return this.R}get i(){return M.grid.h(this.o.i)}get map(){return M.style.map.grid(this.o.i)}set T(t){this.A=t}get T(){return this.A}set B(t){this.G=t}get B(){return this.G}set q(t){this.O=t}get q(){return this.O}constructor(t,e,i){super(),this.o=new k(t,e,M.id()),this.P(i.q),this.T=i.grid}get l(){let t=`.elemap-${this.o.i.map}`,e=t+"-grid";return{u:t,frame:e+"-frame",grid:e,H:e+">div",q:e+">div>div",Z:e+"-outer",J:e+"-inner",X:e+"-outer>div",Y:e+"-inner>div",F:e+"-outer>div>div",D:e+"-inner>div>div",K:e+"-contour"}}get spacing(){return w(this.q.B.inner.marginRight,2)}get U(){return this.l.frame+"{display:block;position:absolute;z-index:50;}"+this.l.grid+"{overflow:hidden;}"+this.l.H+"{display:flex;width:max-content;position:relative;pointer-events:none;}"+this.l.q+"{pointer-events:auto;float:left;}"+this.l.Z+"{position:absolute;z-index:100;}"+this.l.X+"{z-index:110;}"+this.l.F+"{position:absolute;z-index:120;}"+this.l.F+":before{z-index:130;}"+this.l.F+":after{z-index:140;}"+this.l.J+"{position:relative;width:max-content;z-index:150;}"+this.l.Y+"{z-index:160;}"+this.l.D+"{position:relative;z-index:170;}"+this.l.D+":after{z-index:190;}"+this.l.D+">*{position:relative;z-index:200;}"+this.l.K+"{display:block;position:absolute;z-index:210;pointer-events:none;}"+this.l.K+">div{display:block;position:absolute;z-index:220;}"}get V(){return this.l.frame+"{"+this.T.frame+"}"+this.l.K+">div{"+this.T.K+"}"}get W(){let t=`{top: ${this.map.B.map.paddingTop};right: ${this.map.B.map.paddingRight};bottom: ${this.map.B.map.paddingBottom};left: ${this.map.B.map.paddingLeft};}`;return this.l.grid+"{"+`padding:${b(this.spacing,2)};}`+this.l.frame+t+this.l.Z+t+this.l.K+t+this.l.X+"{"+`width: ${y(w(this.q.size._.width,this.i.size.width),w(this.spacing,this.i.size.width))};}`+this.l.H+"{"+`height:${this.q.size._.height};}`+this.l.F+"{"+`width:${this.q.size._.width};`+`height:${this.q.size._.height};}`+this.l.K+">div{display:none;top:0;left:0;"+`width:${this.q.size.tt.width};`+`height:${this.q.size.tt.height};}`+this.l.frame+"{"+`clip-path: path('${this.et}');}`+this.it}compute(){this.B={_:getComputedStyle(this.i.elements._),inner:getComputedStyle(this.i.elements.inner),st:getComputedStyle(this.i.elements.st)},this.q.compute()}}class C{constructor(t){this.map=t}}class Q extends C{}class L extends Q{constructor(t,e){super(t.map),this.grid=e}}class N extends L{constructor(t,e){super(t,t.grid),this.q=e}}class I{constructor(t,e){this.i=t,this.map=e}}class j extends I{}class k extends j{constructor(t,e,i){super(t,e.map),this.grid=i}}class E extends k{constructor(t,e,i){super(t,e,i),this.q=i}}class M{static id(){return M.ht++}static add(t){M.rt.set(t.o.map,t)}}M.ht=0,M.rt=new Map,M.map={h:t=>M.rt.get(t.map),grid:t=>{let e=M.map.h(t);if(e&&e instanceof T)return e}},M.grid={h:t=>{let e=M.map.h(t);if(e&&e instanceof T)return e.grid},nt:t=>{let e=M.map.h(t);if(e&&e instanceof T)return e.grid},ot:t=>{let e=M.map.h(t);if(e&&e instanceof T)return e.grid}},M.q={h:t=>{let e=M.grid.h(t);if(e)return e.lt(t)}},M.style={map:{grid:t=>{let e=M.map.h(t);if(e&&e instanceof T)return e.style}},grid:t=>{let e=M.map.h(t);if(e&&e instanceof T)return e.style.grid},q:t=>{let e=M.map.h(t);if(e&&e instanceof T&&e.style.grid&&e.style.grid instanceof S)return e.style.grid.q}};class R{set o(t){this.R=t}get o(){return this.R}set elements(t){this.ut=t}get elements(){return this.ut}set style(t){this.dt=t}get style(){return this.dt}get ct(){return{u:`elemap-${this.o.map}`,container:`elemap-${this.o.map}-container`,map:`elemap-${this.o.map}-map`}}constructor(t){this.o=new Q(M.id()),M.add(this)}gt(){let t=document.createElement("div");return t.classList.add(`elemap-${this.o.map}-map`),{map:t}}$t(t){for(let e of document.getElementsByClassName("elemap-"+this.o.map+"-container"))e!==t&&e.classList.remove("elemap-"+this.o.map+"-container");this.elements.container!==t&&(this.elements.container=t,this.elements.container.classList.add("elemap-"+this.o.map+"-container")),this.elements.container.appendChild(this.elements.map)}ft(t){this.elements=this.gt(),this.$t(t),this.style.ft()}}class T extends R{set grid(t){this.xt=t}get grid(){return this.xt}set style(t){this.dt=t}get style(){return this.dt}constructor(t,e,i){super(t),this.grid=new i(this.o,t),this.vt(e)}ft(t){this.elements=this.gt(),this.$t(t),this.grid.ft(this.elements.map),this.style.ft()}}class A{set o(t){this.R=t}get o(){return this.R}set size(t){this.yt=t}get size(){return this.yt}q(t,e){return this.wt(t,e)}bt(t,e){var i;return null===(i=this.zt[t])||void 0===i?void 0:i[e]}lt(t){for(let e in this.zt)for(let i in this.zt[e])if(this.zt[e][i].o.q===t.q)return this.zt[e][i]}get style(){return M.map.grid(this.o).style.grid}get ct(){let t=`elemap-${this.o.map}`;return{u:t,frame:t+"-frame",grid:t+"-grid",Z:t+"-outer",J:t+"-inner",K:t+"-contour"}}get l(){return this.style.l}set orientation(t){this.St=t}get orientation(){return this.St}set offset(t){this.Ct=t}get offset(){return this.Ct}set elements(t){this.ut=t}get elements(){return this.ut}constructor(t,e){this.zt=[],this.o=new L(t,M.id()),this.size=e.size,this.orientation=e.grid.orientation,this.offset=e.grid.offset,this.Qt()}gt(){this.elements||(this.elements={frame:document.createElement("div"),_:document.createElement("div"),inner:document.createElement("div"),Lt:[],Nt:[],K:document.createElement("div"),st:document.createElement("div")},this.elements.frame.classList.add("elemap-"+this.o.map+"-grid-frame"),this.elements._.classList.add("elemap-"+this.o.map+"-grid"),this.elements._.classList.add("elemap-"+this.o.map+"-grid-outer"),this.elements.inner.classList.add("elemap-"+this.o.map+"-grid"),this.elements.inner.classList.add("elemap-"+this.o.map+"-grid-inner"),this.elements.K.classList.add("elemap-"+this.o.map+"-grid-contour"),this.elements.K.appendChild(this.elements.st))}ft(t){this.gt(),t.innerHTML="";for(let t in this.zt){void 0===this.elements.Lt[t]&&(this.elements.Lt[t]=document.createElement("div"),this.elements._.appendChild(this.elements.Lt[t])),void 0===this.elements.Nt[t]&&(this.elements.Nt[t]=document.createElement("div"),this.elements.inner.appendChild(this.elements.Nt[t]));for(let e in this.zt[t])this.zt[Number(t)][Number(e)].ft()}t.appendChild(this.elements.frame),t.appendChild(this.elements._),t.appendChild(this.elements.inner),t.appendChild(this.elements.K),this.elements.inner.addEventListener("mouseover",(t=>{let e=t.target.closest(this.l.D);e&&this.jt(e).It()})),this.elements.inner.addEventListener("mouseout",(t=>{let e=t.target.closest(this.l.D);e&&this.jt(e).kt()}))}Et(t){!1===t?this.elements.st.removeAttribute("style"):(this.elements.st.style.display="block",this.elements.st.style.transform=`translate(${t.x}px, ${t.y}px)`)}}function B(t,e){let i=c(t,e);if("string"==typeof i)return i}const G={_:"padding:50px;background-color:#f5df8d;",inner:""};function q(t,e){return{_:(e&&e._?e._:"")+(B(t,"outer")||""),inner:(e&&e.inner?e.inner:"")+(B(t,"inner")||"")}}const O={frame:"background-color:#222222;",K:"border: 2px solid transparent;background-color:#f5f5f5;"};function P(t,e){return{frame:(e&&e.frame?e.frame:"")+(B(t,"frame")||""),K:(e&&e.K?e.K:"")+(B(t,"contour")||"")}}const H={_:"background-color:#222222;",inner:"width:100px;height:100px;border-radius:6px;background-color:#b2e090;margin:2px;",It:{_:"background-color:#f5f5f5;",inner:""}};function Z(t,e){return{_:(e&&e._?e._:"")+(B(t,"outer")||""),inner:(e&&e.inner?e.inner:"")+(B(t,"inner")||""),It:{_:(e&&e.It&&e.It._?e.It._:"")+(B(c(t,"hover"),"outer")||""),inner:(e&&e.It&&e.It.inner?e.It.inner:"")+(B(c(t,"hover"),"inner")||"")}}}class J{set o(t){this.R=t}get o(){return this.R}get grid(){return M.grid.h(this.o)}set style(t){this.dt=t}get style(){return void 0!==this.dt?this.dt:M.style.q(this.o)}set elements(t){this.ut=t}get elements(){return this.ut}set index(t){this.Mt=t}get index(){return this.Mt}constructor(t,e){this.Rt=!1,this.o=new N(t,M.id()),this.index=e}Tt(t,e=!1){void 0===this.dt||e?this.style=this.At(Z(t)):this.style=this.At(Z(t,this.style.T)),this.Rt&&this.ft()}gt(){this.elements||(this.elements={inner:document.createElement("div")}),void 0===this.dt||this.style.Bt||(this.elements.style||(this.elements.style=document.createElement("style"),this.elements.style.classList.add("elemap-"+this.o.map+"-css-tile-"+this.o.q)),this.elements._||!this.style.T._.length&&!this.style.T.It._.length||(this.elements._=document.createElement("div")))}Gt(){this.elements._&&(p(this.elements._.dataset,"elemapI",this.index.k.toString()),p(this.elements._.dataset,"elemapJ",this.index.M.toString())),p(this.elements.inner.dataset,"elemapI",this.index.k.toString()),p(this.elements.inner.dataset,"elemapJ",this.index.M.toString())}ft(){let t=this.grid.elements.Lt[this.index.k],e=this.grid.elements.Nt[this.index.k];this.gt(),this.Gt(),this.qt(),this.elements.style&&(this.elements.style.innerHTML=this.style.U+this.style.V+this.style.W,document.head.appendChild(this.elements.style)),this.elements._&&(t.contains(this.elements._)||t.appendChild(this.elements._)),e.contains(this.elements.inner)||e.appendChild(this.elements.inner),this.Rt=!0}It(){let t=M.grid.h(this.o);t&&t.Et(this.Ot)}kt(){let t=M.grid.h(this.o);t&&t.Et(!1)}get Ot(){let t=M.grid.h(this.o);if(t){let e=this.elements.inner,i={x:0,y:0};for(;e;)if(i.x+=e.offsetLeft,i.y+=e.offsetTop,e=e.parentElement,e===t.elements.inner)return{x:i.x-g(t.style.spacing),y:i.y-g(t.style.spacing)}}return{x:0,y:0}}}class X extends i{set o(t){this.R=t}get o(){return this.R}get i(){return M.q.h(this.o.i)}get grid(){return M.style.grid(this.o.i)}get spacing(){return this.grid.spacing}set B(t){this.G=t}get B(){return this.G}get l(){return Object.assign(Object.assign({},this.grid.l),{data:this.Bt?"":this.i.l.data})}set T(t){this.A=t}get T(){return this.A}constructor(t,e,i,s=!1){super(),this.o=new E(t,e,M.id()),this.Bt=s,this.T=i}get size(){let t={width:this.B.inner.width,height:this.B.inner.height};return{tt:{width:v(t.width,w(this.spacing,2)),height:v(t.height,w(this.spacing,2))},_:{width:v(t.width,this.spacing),height:v(t.height,this.spacing)},inner:t}}get U(){return""}get V(){let t="";return this.T._.length&&(t+=this.l.F+this.l.data+"{"+this.T._+"}"),this.T.inner.length&&(t+=this.l.D+this.l.data+"{"+this.T.inner+"}"),this.T.It._.length&&(t+=this.l.F+this.l.data+":hover{"+this.T.It._+"}"),this.T.It.inner.length&&(t+=this.l.D+this.l.data+":hover{"+this.T.It.inner+"}"),t}get W(){let t="";return this.Bt&&(t+=this.l.K+">div{border:none;}",t+=this.Pt),t}get Pt(){let t="";for(let e of this.i.grid.zt)for(let i of e)t+=this.l.F+i.l.data+"{"+`left:${w(this.size._.width,i.index.M)};}`;return t}compute(){this.B={inner:getComputedStyle(this.i.grid.wt(0,0).elements.inner)}}}class Y extends X{}class F extends J{set coords(t){this.Ht=t}get coords(){return this.Ht}constructor(t,e,i){super(t,e),this.coords=i}set style(t){this.dt=t}get style(){return void 0!==this.dt?this.dt:M.style.q(this.o)}At(t){return new Y(this.o,this.grid.style.o,t)}qt(){this.elements._&&(p(this.elements._.dataset,"elemapX",this.coords.x.toString()),p(this.elements._.dataset,"elemapY",this.coords.y.toString())),p(this.elements.inner.dataset,"elemapX",this.coords.x.toString()),p(this.elements.inner.dataset,"elemapY",this.coords.y.toString())}get l(){return{data:`[data-elemap-x="${this.coords.x}"][data-elemap-y="${this.coords.y}"]`}}}class D extends A{constructor(t,e){super(t,e)}Qt(){for(let t=0;t<this.size.height;t++){this.zt[t]=[];for(let e=0;e<this.size.width;e++)this.zt[t][e]=new F(this.o,{k:t,M:e},a({k:t,M:e}))}}wt(t,e){let i=d({x:t,y:e});return this.bt(i.k,i.M)}jt(t){if(t.hasAttribute("data-elemap-x")&&t.hasAttribute("data-elemap-y"))return this.wt(Number(t.getAttribute("data-elemap-x")),Number(t.getAttribute("data-elemap-y")))}}class K extends i{set o(t){this.R=t}get o(){return this.R}set T(t){this.A=t}get T(){return this.A}set elements(t){this.ut=t}get elements(){return this.ut}set B(t){this.G=t}get B(){return this.G}constructor(t,e){super(),this.o=new j(t,M.id()),this.T=e.map}gt(){let t=document.createElement("style");t.classList.add(this.i.ct.u+"-css-core"),document.head.appendChild(t);let e=document.createElement("style");e.classList.add(this.i.ct.u+"-css-schema"),document.head.appendChild(e);let i=document.createElement("style");return i.classList.add(this.i.ct.u+"-css-generated"),document.head.appendChild(i),{U:t,V:e,W:i}}ft(){this.elements=this.gt(),this.elements.U.innerHTML=this.U,this.elements.V.innerHTML=this.V,this.i.elements.map.offsetHeight,this.compute(),this.elements.W.innerHTML=this.W}get l(){return{u:`.elemap-${this.o.i.map}`,container:`.elemap-${this.o.i.map}-container`,map:`.elemap-${this.o.i.map}-map`}}get U(){return this.l.container+"{width:max-content;}"+this.l.map+"{position:relative;width:max-content;z-index:10;}"}get V(){return this.l.map+"{"+this.T._+"}"+this.l.map+">*{"+this.T.inner+"}"}compute(){this.B={map:getComputedStyle(this.i.elements.map)}}get W(){return""}}class U extends K{set grid(t){this.xt=t}get grid(){return this.xt}get i(){return M.map.grid(this.o.i)}constructor(t,e){super(t,e),this.Zt(e)}ft(){this.elements=this.gt(),this.elements.U.innerHTML=this.U+this.grid.U+this.grid.q.U,this.elements.V.innerHTML=this.V+this.grid.V+this.grid.q.V,this.i.elements.map.offsetHeight,this.i.grid.elements.inner.offsetHeight,this.compute(),this.elements.W.innerHTML=this.W+this.grid.W+this.grid.q.W}compute(){this.B={map:getComputedStyle(this.i.elements.map)},this.grid.compute()}}class V extends S{get i(){return M.grid.nt(this.o.i)}set q(t){this.O=t}get q(){return this.O}P(t){this.q=new Y(this.i.bt(0,0).o,this.o,t,!0)}get it(){let t=n(g(this.B.st.borderWidth),0)+"px",e={width:y(this.q.size.tt.width,w(t,2)),height:y(this.q.size.tt.height,w(t,2))},i=u(this.q.size.tt,g(this.q.B.inner.borderRadius)),s=u(e,g(this.q.B.inner.borderRadius),{top:g(t),left:g(t)});return this.l.K+">div{"+`clip-path:path(evenodd,'${i} ${s}');}`}get et(){let t="";for(let e=0;e<this.i.size.height;e++)for(let i=0;i<this.i.size.width;i++)""!==t&&(t+=" "),t+=u(this.q.size.tt,g(this.q.B.inner.borderRadius),{top:e*(g(this.q.size.tt.height)-g(this.spacing)),left:i*(g(this.q.size.tt.width)-g(this.spacing))});return t}}class W extends U{Zt(t){this.grid=new V(this.i.grid.o,this.o,t)}}class _ extends T{constructor(t,e){super(t,e,D)}vt(t){this.style=new W(this.o,t)}}class tt extends X{get Pt(){let t="";for(let e of this.i.grid.zt)for(let i of e)t+=this.l.F+i.l.data+"{"+`left:${y(w(this.size._.width,i.index.M),w(this.grid.Xt.Jt,i.index.M))};}`;return t}}class et extends J{set coords(t){this.Ht=t}get coords(){return this.Ht}constructor(t,e,i){super(t,e),this.coords=i}set style(t){this.dt=t}get style(){return void 0!==this.dt?this.dt:M.style.q(this.o)}At(t){return new tt(this.o,this.grid.style.o,t)}qt(){this.elements._&&(p(this.elements._.dataset,"elemapR",this.coords.r.toString()),p(this.elements._.dataset,"elemapQ",this.coords.Yt.toString())),p(this.elements.inner.dataset,"elemapR",this.coords.r.toString()),p(this.elements.inner.dataset,"elemapQ",this.coords.Yt.toString())}get l(){return{data:`[data-elemap-r="${this.coords.r}"][data-elemap-q="${this.coords.Yt}"]`}}}class it extends A{constructor(t,e){super(t,e)}Qt(){for(let s=0;s<this.size.height;s++){this.zt[s]=[];for(let n=0;n<this.size.width;n++)this.zt[s][n]=new et(this.o,{k:s,M:n},(t={k:s,M:n},e=this.orientation,i=this.offset,function(t,e,i){let s={r:0,Yt:0};return e===h.v?(s.r=t.x,i===r.C?s.Yt=t.y-(t.x-(1&t.x))/2:s.Yt=t.y-(t.x+(1&t.x))/2):(s.Yt=t.y,i===r.C?s.r=t.x-(t.y-(1&t.y))/2:s.r=t.x-(t.y+(1&t.y))/2),s}(a(t),e,i)))}var t,e,i}wt(t,e){let i=d(function(t,e,i){let s={x:0,y:0};return e===h.v?(s.x=t.r,i===r.C?s.y=t.Yt+(t.r-(1&t.r))/2:s.y=t.Yt+(t.r+(1&t.r))/2):(s.y=t.Yt,i===r.C?s.x=t.r+(t.Yt-(1&t.Yt))/2:s.x=t.r+(t.Yt+(1&t.Yt))/2),s}({r:t,Yt:e},this.orientation,this.offset));return this.bt(i.k,i.M)}jt(t){if(t.hasAttribute("data-elemap-r")&&t.hasAttribute("data-elemap-q"))return this.wt(Number(t.getAttribute("data-elemap-r")),Number(t.getAttribute("data-elemap-q")))}Ft(t){return this.offset===r.C?t%2==1:t%2==0}}class st extends S{get i(){return M.grid.ot(this.o.i)}set q(t){this.O=t}get q(){return this.O}P(t){this.q=new tt(this.i.bt(0,0).o,this.o,t,!0)}get Dt(){return this.i.orientation===h.v?{tt:{N:b(this.q.size.tt.height,2),j:this.q.size.tt.height,I:this.q.size.tt.width},_:{N:b(this.q.size._.height,2),j:this.q.size._.height,I:this.q.size._.width},inner:{N:b(this.q.size.inner.height,2),j:this.q.size.inner.height,I:this.q.size.inner.width}}:{tt:{N:b(this.q.size.tt.width,2),j:this.q.size.tt.width,I:this.q.size.tt.height},_:{N:b(this.q.size._.width,2),j:this.q.size._.width,I:this.q.size._.height},inner:{N:b(this.q.size.inner.width,2),j:this.q.size.inner.width,I:this.q.size.inner.height}}}compute(){this.B={_:getComputedStyle(this.i.elements._),inner:getComputedStyle(this.i.elements.inner),st:getComputedStyle(this.i.elements.st)},this.q.compute(),this.Kt(),this.q.compute()}Kt(){let t,e;this.i.orientation===h.v?(e=y(this.q.size._.height,this.q.size.inner.height),t=z(w(this.q.size.inner.width,o),0),this.map.elements.V.innerHTML+=this.l.F+"{height:"+v(t,e)+"}"+this.l.D+"{height:"+t+"}"):(e=y(this.q.size._.width,this.q.size.inner.width),t=z(w(this.q.size.inner.height,o),0),this.map.elements.V.innerHTML+=this.l.F+"{width:"+v(t,e)+"}"+this.l.D+"{width:"+t+"}")}get et(){let t="",e=g(this.q.size.tt.height)-g(this.Xt.vertical)-g(this.spacing),i=g(this.q.size.tt.width)-g(this.Xt.Jt)-g(this.spacing);for(let s=0;s<this.i.size.height;s++)for(let h=0;h<this.i.size.width;h++)""!==t&&(t+=" "),t+=l(this.i.orientation,this.Dt.tt,g(this.q.B.inner.borderRadius),{top:s*e+(this.i.Ft(h)?1:0)*g(this.Ut.vertical),left:h*i+(this.i.Ft(s)?1:0)*g(this.Ut.Jt)});return t}get it(){let t=n(g(this.B.st.borderWidth),0)+"px",e=y(this.Dt.tt.j,w(t,2)),i={N:b(e,2),j:e,I:y(this.Dt.tt.I,w(t,2))},s=l(this.i.orientation,this.Dt.tt,g(this.q.B.inner.borderRadius)),h=l(this.i.orientation,i,g(this.q.B.inner.borderRadius),{top:g(t),left:g(t)});return this.l.D+"{"+`clip-path:path('${l(this.i.orientation,this.Dt.inner,g(this.q.B.inner.borderRadius))}');}`+this.l.F+"{"+`clip-path:path('${l(this.i.orientation,this.Dt._,0)}');}`+this.l.K+">div{"+`clip-path:path(evenodd,'${s} ${h}');}`+this.Vt()+this.Wt()}Vt(){return this.i.orientation===h.v?this.l.H+":not(:first-child){"+`margin-top:${y("0px",this.Xt.vertical)};}`:this.l.D+":not(:first-child){"+`margin-left:${y(b(this.spacing,2),this.Xt.Jt)};}`}get Xt(){return this.i.orientation===h.v?{vertical:b(this.q.size._.height,4),Jt:"0px"}:{vertical:"0px",Jt:b(this.q.size._.width,4)}}Wt(){let t="even"===this.i.offset?"2n - 1":"2n";if(this.i.orientation===h.v)return this.l.H+`:nth-child(${t}){`+`margin-left:${this.Ut.Jt};}`;{let e="";for(let i=0;i<this.i.size.width;i++)("2n - 1"===t&&i%2==0||"2n"===t&&i%2!=0)&&(e+=this.l.F+`[data-elemap-j="${i}"]{`+`margin-top:${this.Ut.vertical};`+`margin-bottom:${y("0px",this.Ut.vertical)};}`);return e+=this.l.D+`:nth-child(${t}){`+`margin-top:${v(b(this.spacing,2),this.Ut.vertical)};`+`margin-bottom:${v(b(this.spacing,2),y("0px",this.Ut.vertical))};}`,e+=this.l.H+":last-child{"+`height:${v(this.q.size._.height,this.Ut.vertical)};}`,e}}get Ut(){return this.i.orientation===h.v?{vertical:"0px",Jt:b(this.q.size._.width,2)}:{vertical:b(this.q.size._.height,2),Jt:"0px"}}}class ht extends U{Zt(t){this.grid=new st(this.i.grid.o,this.o,t)}}class rt extends T{constructor(t,e){super(t,e,it)}vt(t){this.style=new ht(this.o,t)}}class nt{constructor(t,e){let i={type:c(n=t||{},"type")||s.m,size:{width:c(c(n,"size"),"width")||32,height:c(c(n,"size"),"height")||18},grid:{orientation:c(c(n,"grid"),"orientation")||h.v,offset:c(c(n,"grid"),"offset")||r.C}};var n;let o=function(t){return{map:q(c(t,"map")||{},G),grid:P(c(t,"grid")||{},O),q:Z(c(t,"tile")||{},H)}}(e||{});i.type===s.m?this._t=new _(i,o):i.type===s.$&&(this._t=new rt(i,o)),p(this,"render",(t=>{this._t.ft(t)})),p(this,"tileByIndex",((t,e)=>{let i=this._t.grid.bt(t,e);if(i)return new ot(i)}))}}class ot{constructor(t){this._t=t,p(this,"updateStyle",((t,e=!1)=>{this._t.Tt(t,e)}))}}})(),Elemap=e.default})();