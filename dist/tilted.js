var Tilted;(()=>{"use strict";var t,i,s,e={d:(t,i)=>{for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},o:(t,i)=>Object.prototype.hasOwnProperty.call(t,i)},h={};function r(t,i){return parseFloat(t.toFixed(i))}function o(t,i,s){return Math.min(s,Math.max(i,t))}function n(t){return o(t,-1,1)}function l(t,s=i.Linear){switch(s){case i.Linear:return t;case i.EaseOutCirc:return Math.sqrt(1-Math.pow(t-1,2))}}function u(t,i){let s=i.elements.container.getBoundingClientRect(),e=window.TouchEvent&&t instanceof TouchEvent;return{button:e?0:t.button,x:e?t.touches[0].clientX-s.left:t.clientX-s.left,y:e?t.touches[0].clientY-s.top:t.clientY-s.top}}function c(t,i){let s=u(t,i);0===s.button&&i.animationStorage.createSurfaceDrag(s)}function a(i){i.elements.container.addEventListener("mousemove",(s=>{!function(i,s){1===s.CONFIG.EDGE_MOVE_ENABLED.VALUE&&function(i,s){if(i.animationStorage.surfaceDragIsSet())return!1;let e={x:t.None,y:t.None};s.y<=i.CONFIG.EDGE_MOVE_AREA.VALUE?s.x<=i.CONFIG.EDGE_MOVE_AREA.VALUE?(e.x=t.Left,e.y=t.Top):s.x>=i.containerWidth-i.CONFIG.EDGE_MOVE_AREA.VALUE?(e.x=t.Right,e.y=t.Top):e.y=t.Top:s.y>=i.containerHeight-i.CONFIG.EDGE_MOVE_AREA.VALUE?s.x<=i.CONFIG.EDGE_MOVE_AREA.VALUE?(e.x=t.Left,e.y=t.Bottom):s.x>=i.containerWidth-i.CONFIG.EDGE_MOVE_AREA.VALUE?(e.x=t.Right,e.y=t.Bottom):e.y=t.Bottom:s.x<=i.CONFIG.EDGE_MOVE_AREA.VALUE?e.x=t.Left:s.x>=i.containerWidth-i.CONFIG.EDGE_MOVE_AREA.VALUE&&(e.x=t.Right);let h=0,r=0;e.y===t.None&&e.x===t.None||(e.y===t.Top?r=(i.CONFIG.EDGE_MOVE_AREA.VALUE+1-s.y)/(i.CONFIG.EDGE_MOVE_AREA.VALUE+1)*-1:e.y===t.Bottom&&(r=(i.CONFIG.EDGE_MOVE_AREA.VALUE+1-(i.containerHeight-s.y))/(i.CONFIG.EDGE_MOVE_AREA.VALUE+1)),e.x===t.Left?h=(i.CONFIG.EDGE_MOVE_AREA.VALUE+1-s.x)/(i.CONFIG.EDGE_MOVE_AREA.VALUE+1)*-1:e.x===t.Right&&(h=(i.CONFIG.EDGE_MOVE_AREA.VALUE+1-(i.containerWidth-s.x))/(i.CONFIG.EDGE_MOVE_AREA.VALUE+1)));let o=!1;(0===h||h>0&&i.coords.x>=i.max.x||h<0&&i.coords.x<=i.min.x)&&(o=!0);let n=!1;(0===r||r>0&&i.coords.y>=i.max.y||r<0&&i.coords.y<=i.min.y)&&(n=!0),o&&n?i.animationStorage.surfaceEdgeIsSet()&&i.animationStorage.destroySurfaceEdge():i.animationStorage.surfaceEdgeIsSet()?i.animationStorage.surfaceEdge.update({x:h,y:r}):(i.animationStorage.createSurfaceEdge({x:h,y:r}),i.animationExecutor.initiate())}(s,u(i,s))}(s,i)})),i.elements.container.addEventListener("wheel",(t=>{!function(t,i){t.preventDefault(),i.scale.stepAndGlide(function(t){return{x:t.deltaX,y:t.deltaY}}(t).y<0?1:-1,u(t,i))}(t,i)})),function(t){function i(i){t.animationStorage.surfaceDragIsSet()&&t.animationStorage.surfaceDrag.step(u(i,t))}function s(){t.animationStorage.destroySurfaceDrag()}t.elements.container.addEventListener("mousemove",i),t.elements.container.addEventListener("touchmove",i),document.body.addEventListener("mouseup",s),document.body.addEventListener("touchend",s)}(i),i.elements.container.addEventListener("mousedown",(t=>{c(t,i)})),i.elements.container.addEventListener("touchstart",(t=>{c(t,i)})),document.body.addEventListener("keydown",(t=>{!function(t,i){i.elements.container.matches(":hover")&&("Add"===t.key||"+"===t.key?i.scale.step(1):"Subtract"!==t.key&&"-"!==t.key||i.scale.step(-1))}(t,i)})),i.elements.controlsZoomIn.addEventListener("click",(()=>{i.scale.stepAndGlide(1)})),i.elements.controlsZoomOut.addEventListener("click",(()=>{i.scale.stepAndGlide(-1)})),i.elements.container.ondragstart=()=>!1}e.d(h,{default:()=>T}),function(t){t.Top="top",t.Bottom="bottom",t.Left="left",t.Right="right",t.None="none"}(t||(t={})),function(t){t.Linear="linear",t.EaseOutCirc="easeOutCirc"}(i||(i={})),function(t){t.Angle="angle",t.Color="color",t.Integer="integer",t.Number="number",t.Length="length",t.Time="time"}(s||(s={}));class d{static new(t){return d.t()?void 0!==t?d.i.push(new WeakRef(t)):d.i.push(void 0):void 0!==t?d.h.push(t):d.h.push(void 0),d.l(),d.u++}static get(t,i){if(t>d.u||t<d.p)return;let s;return s=d.t()?d.i[-d.p+t].deref():d.h[-d.p+t],void 0===i||s instanceof i?s:void 0}static unregister(t){t>d.u||t<d.p||(d.t()?d.i[-d.p+t]=void 0:d.h[-d.p+t]=void 0,d.l())}static t(){if(void 0===d.m){d.m=!0;try{new WeakRef(new Object)}catch(t){d.m=!1}}return d.m}static l(){let t=d.p;if(d.t()){for(let t=0;t<d.i.length&&void 0===d.i[t];t++)d.p+=1;d.p>t&&(d.i=d.i.slice(d.p-t))}else{for(let t=0;t<d.h.length&&void 0===d.h[t];t++)d.p+=1;d.p>t&&(d.h=d.h.slice(d.p-t))}}}d.u=0,d.p=0,d.m=void 0,d.i=[],d.h=[];const E=d;class f{constructor(t){this._=!1,this.A=t}initiate(){this._||(this._=!0,this.v())}v(){let t=performance.now();requestAnimationFrame((()=>{let i=this.T(t),s=this.I(t),e=this.L(t);this._=i||s||e,this._&&this.v()}))}T(t){if(!this.A.surfaceGlideIsSet())return!1;let i=this.A.surfaceGlide.step(t);return i||this.A.destroySurfaceGlide(),i}I(t){if(!this.A.surfaceZoomIsSet())return!1;let i=this.A.surfaceZoom.step(t);return i||this.A.destroySurfaceZoom(),i}L(t){if(!this.A.surfaceEdgeIsSet())return!1;let i=this.A.surfaceEdge.step(t);return i||this.A.destroySurfaceEdge(),i}}class p{constructor(t){this.M=0,this.S=0,this.destroyed=!1,this.O=t,this.M=this.S=performance.now()}destroy(){this.destroyed=!0}}class m extends p{get N(){return{x:this.R.x+this.D.x.value*this.D.x.sign,y:this.R.y+this.D.y.value*this.D.y.sign}}get remaining(){return{x:(this.D.x.value-this.U.x)*this.D.x.sign,y:(this.D.y.value-this.U.y)*this.D.y.sign}}constructor(t,i,s,e){super(t),this.U={x:0,y:0},this.R={x:t.coords.x,y:t.coords.y},this.D={x:{value:Math.abs(i.x),sign:i.x>0?1:-1},y:{value:Math.abs(i.y),sign:i.y>0?1:-1}},this.P=s,this.V=e,this.O.CONFIG.DEBUG_MODE.VALUE&&console.log("Glide created: x "+this.D.x.value+", y "+this.D.y.value+", initial.x "+this.R.x+", initial.y "+this.R.y+", target.x "+this.N.x+", target.y "+this.N.y)}step(t){if(this.destroyed)return!1;let i=n((t-this.M)/this.P),s=n(l(i,this.V));if(s>=1)return this.O.CONFIG.DEBUG_MODE.VALUE&&console.log("Glide finished: "+(t-this.M)+"ms, surface.coords.x "+this.O.coords.x+", surface.coords.y "+this.O.coords.y+", target.x "+this.N.x+", target.y "+this.N.y),this.O.moveTo({x:this.N.x,y:this.N.y}),!1;{let e={x:0,y:0};return this.D.x.value>0&&this.D.x.value>this.U.x&&(e.x=r(Math.max(0,this.D.x.value*s-this.U.x),this.O.CONFIG.COORD_ROUNDING_INTERIM.VALUE)),this.D.y.value>0&&this.D.y.value>this.U.y&&(e.y=r(Math.max(0,this.D.y.value*s-this.U.y),this.O.CONFIG.COORD_ROUNDING_INTERIM.VALUE)),(e.x>0||e.y>0)&&(this.O.move({x:e.x*this.D.x.sign,y:e.y*this.D.y.sign},this.O.CONFIG.COORD_ROUNDING_INTERIM.VALUE,this.O.CONFIG.COORD_ROUNDING_INTERIM.VALUE),this.U.x=r(this.U.x+e.x,this.O.CONFIG.COORD_ROUNDING_INTERIM.VALUE),this.U.y=r(this.U.y+e.y,this.O.CONFIG.COORD_ROUNDING_INTERIM.VALUE),this.S=t,this.O.CONFIG.DEBUG_MODE.VALUE&&console.log("time "+(t-this.M)+"ms, timeRatio "+i+", moveRatio "+s+", x "+e.x+", y "+e.y)),!0}}}class x extends p{get N(){return this.R+this.G.value*this.G.sign}get remaining(){return(this.G.value-this.U)*this.G.sign}constructor(t,i,s,e){super(t),this.U=0,this.R=t.scale.value,this.G={value:Math.abs(i),sign:i>0?1:-1},this.P=s,this.V=e,this.O.CONFIG.DEBUG_MODE.VALUE&&console.log("Zoom created: change "+this.G.value+", initial "+this.R+", target "+this.N)}step(t){if(this.destroyed)return!1;let i=n((t-this.M)/this.P),s=n(l(i,this.V));if(s>=1)return this.O.scale.changeTo(this.N),!1;{let e=0;return this.G.value>0&&this.G.value>this.U&&(e=r(Math.max(0,this.G.value*s-this.U),this.O.CONFIG.SCALE_ROUNDING_INTERIM.VALUE)),e>0&&(this.O.scale.change(e*this.G.sign),this.U=r(this.U+e,this.O.CONFIG.SCALE_ROUNDING_INTERIM.VALUE),this.S=t,this.O.CONFIG.DEBUG_MODE.VALUE&&console.log("time "+(t-this.M)+"ms, timeRatio "+i+", moveRatio "+s+", step "+e)),!0}}}class g extends p{constructor(t,i){super(t),this.D=i}update(t){this.D.x!==t.x&&(this.D.x=t.x),this.D.y!==t.y&&(this.D.y=t.y)}step(t){if(this.destroyed)return!1;let i=Math.max(1,t-this.S)/10,s=this.O.CONFIG.EDGE_MOVE_SPEED.VALUE*this.D.x/this.O.scale.value*i,e=this.O.CONFIG.EDGE_MOVE_SPEED.VALUE*this.D.y/this.O.scale.value*i;return this.S=t,this.O.move({x:s,y:e})}}class y extends p{constructor(t,i){super(t),this.id=E.new(this),this.C={x:0,y:0},this.Y={x:0,y:0},this.O.cancelOngoingMoves(),this.C={x:i.x,y:i.y}}step(t){let i=this.O.move({x:(this.C.x-t.x)/this.O.scale.value,y:(this.C.y-t.y)/this.O.scale.value});return this.Y={x:this.Y.x+this.C.x-t.x,y:this.Y.y+this.C.y-t.y},this.C={x:t.x,y:t.y},i}destroy(){performance.now()-this.M<this.O.CONFIG.DURATION_FOR_THROW.VALUE&&this.k(),this.destroyed=!0}k(){this.O.glide({x:this.Y.x*this.O.CONFIG.THROW_MULTIPLIER.VALUE,y:this.Y.y*this.O.CONFIG.THROW_MULTIPLIER.VALUE},this.O.CONFIG.ANIMATION_THROW_TIME.VALUE,i.EaseOutCirc)}}class _{constructor(t){this.surfaceGlide=null,this.surfaceZoom=null,this.surfaceEdge=null,this.surfaceDrag=null,this.O=t}createSurfaceGlide(t,i,s){this.surfaceGlideIsSet()&&(t={x:r(t.x+this.surfaceGlide.remaining.x,this.O.CONFIG.SCALE_ROUNDING_INTERIM.VALUE),y:r(t.y+this.surfaceGlide.remaining.y,this.O.CONFIG.SCALE_ROUNDING_INTERIM.VALUE)},this.destroySurfaceGlide()),this.surfaceGlide=new m(this.O,t,i,s)}destroySurfaceGlide(){this.surfaceGlideIsSet()&&(this.surfaceGlide.destroy(),this.surfaceGlide=null)}surfaceGlideIsSet(){return null!==this.surfaceGlide}createSurfaceZoom(t,i,s){this.surfaceZoomIsSet()&&(t=this.O.scale.roundToStep(t+this.surfaceZoom.remaining),this.destroySurfaceZoom()),this.surfaceZoom=new x(this.O,t,i,s)}destroySurfaceZoom(){this.surfaceZoomIsSet()&&(this.surfaceZoom.destroy(),this.surfaceZoom=null)}surfaceZoomIsSet(){return null!==this.surfaceZoom}createSurfaceEdge(t){this.destroySurfaceEdge(),this.surfaceEdge=new g(this.O,t)}destroySurfaceEdge(){this.surfaceEdgeIsSet()&&(this.surfaceEdge.destroy(),this.surfaceEdge=null)}surfaceEdgeIsSet(){return null!==this.surfaceEdge}createSurfaceDrag(t){this.destroySurfaceDrag(),this.surfaceDrag=new y(this.O,t)}destroySurfaceDrag(){this.surfaceDragIsSet()&&(this.surfaceDrag.destroy(),this.surfaceDrag=null)}surfaceDragIsSet(){return null!==this.surfaceDrag}}function A(t){return"@property --tilted-container-width-"+t.id+' {syntax:"<length>";inherits:true;initial-value:'+t.containerWidth+"px;}@property --tilted-container-height-"+t.id+' {syntax:"<length>";inherits:true;initial-value:'+t.containerHeight+"px;}@property --tilted-surface-width-"+t.id+' {syntax:"<length>";inherits:true;initial-value:'+t.surfaceWidth+"px;}@property --tilted-surface-height-"+t.id+' {syntax:"<length>";inherits:true;initial-value:'+t.surfaceHeight+"px;}"}class v{constructor(t,i){this.O=t,this.W=i,this.O.updateSkew(this.W),this.O.elements.scale.style.transform="scale("+this.W+") perspective("+this.O.CONFIG.PERSPECTIVE_DISTANCE.VALUE+"px) rotate3d(1, 0, 0, "+this.O.skew.x+"deg)"}get value(){return this.W}change(t,i=this.O.CONFIG.SCALE_ROUNDING_INTERIM.VALUE,s=this.O.CONFIG.SCALE_ROUNDING_INTERIM.VALUE){if(0===t)return!1;if(i>=0&&(t=r(t,i)),0===t)return!1;let e;return e=s>=0?r(this.W+t,s):this.W+t,e=o(e,this.O.CONFIG.SCALE_MIN.VALUE,this.O.CONFIG.SCALE_MAX.VALUE),e!==this.W&&(this.W=e,this.O.updateSkew(),this.O.elements.scale.style.transform="scale("+this.W+") perspective("+this.O.CONFIG.PERSPECTIVE_DISTANCE.VALUE+"px) rotate3d(1, 0, 0, "+this.O.skew.x+"deg)",!0)}changeTo(t,i=this.O.CONFIG.SCALE_ROUNDING_FINAL.VALUE){return i>=0&&(t=r(t,i)),this.W!==t&&this.change(t-this.W,-1,i)}zoom(t,s=this.O.CONFIG.SCALE_ROUNDING_INTERIM.VALUE,e=this.O.CONFIG.SCALE_ROUNDING_FINAL.VALUE){if(0===t)return!1;if(s>=0&&(t=r(t,s)),0===t)return!1;let h;return h=e>=0?r(this.W+t,e):this.W+t,0!=(t=o(h,this.O.CONFIG.SCALE_MIN.VALUE,this.O.CONFIG.SCALE_MAX.VALUE)-this.W)&&(s>=0&&(t=r(t,s)),0!==t&&(this.O.animationStorage.createSurfaceZoom(t,400,i.EaseOutCirc),this.O.animationExecutor.initiate(),!0))}zoomTo(t,i=this.O.CONFIG.SCALE_ROUNDING_FINAL.VALUE){return i>=0&&(t=r(t,i)),this.W!==t&&this.zoom(t-this.W,-1,i)}step(t){let i=t>0;return this.O.scale.zoom(t*this.O.scale.stepSize(i))}stepAndGlide(t,i=null){let s,e=t>0;if(null===i)s=null;else if(s=this.O.scale.glidePerStep(i,e),this.O.animationStorage.surfaceZoomIsSet()){let t=r(this.W+this.O.animationStorage.surfaceZoom.remaining,this.O.CONFIG.SCALE_ROUNDING_FINAL.VALUE);(!e&&t===this.O.CONFIG.SCALE_MIN.VALUE||e&&t===this.O.CONFIG.SCALE_MAX.VALUE)&&(s=null)}this.O.scale.step(t)&&null!==i&&null!==s&&this.O.glide({x:s.x,y:s.y})}stepSize(t,i){return void 0===i&&(i=this.W),t&&i<this.O.CONFIG.SCALE_DEFAULT.VALUE||!t&&i<=this.O.CONFIG.SCALE_DEFAULT.VALUE?(this.O.CONFIG.SCALE_DEFAULT.VALUE-this.O.CONFIG.SCALE_MIN.VALUE)*this.O.CONFIG.SCALE_STEP.VALUE:(this.O.CONFIG.SCALE_MAX.VALUE-this.O.CONFIG.SCALE_DEFAULT.VALUE)*this.O.CONFIG.SCALE_STEP.VALUE}glidePerStep(t,i){let s=i?1:-1,e=i?this.W+this.O.scale.stepSize(!0):this.W;return{x:r((t.x-this.O.containerWidth/2)*this.O.CONFIG.SCALE_GLIDE.VALUE/e,this.O.CONFIG.COORD_ROUNDING_FINAL.VALUE)*s,y:r((t.y-this.O.containerHeight/2)*this.O.CONFIG.SCALE_GLIDE.VALUE/e,this.O.CONFIG.COORD_ROUNDING_FINAL.VALUE)*s}}roundToStep(t){let i=(s=o(r(this.O.scale.value+t,this.O.CONFIG.SCALE_ROUNDING_FINAL.VALUE),this.O.CONFIG.SCALE_MIN.VALUE,this.O.CONFIG.SCALE_MAX.VALUE),e=this.O.scale.stepSize(t>0,this.O.scale.value+t),Math.round(s/e)*e);var s,e;return r(i-this.O.scale.value,this.O.CONFIG.SCALE_ROUNDING_INTERIM.VALUE)}}const T=class{get id(){return this.u}get elements(){return this.F}get scale(){return this.$}get animationExecutor(){return this.H}get animationStorage(){return this.A}get coords(){return{x:this.Z.x,y:this.Z.y}}get skew(){return{x:this.X.x,y:this.X.y}}constructor(t,i,e={}){this.B={x:0,y:0},this.Z={x:0,y:0},this.X={x:0,y:0},this.u=E.new(this),this.CONFIG=function(t){let i={DEBUG_MODE:0,SCALE_STEP:.2,SCALE_MIN:.25,SCALE_DEFAULT:.5,SCALE_MAX:1,SCALE_ROUNDING:3,SCALE_GLIDE:.1,PERSPECTIVE_DISTANCE:600,SKEW_X_MAX:35,EDGE_MOVE_ENABLED:0,EDGE_MOVE_AREA:20,EDGE_MOVE_SPEED:10,ANIMATION_SCALE_TIME:400,ANIMATION_GLIDE_TIME:400,DURATION_FOR_THROW:150,THROW_MULTIPLIER:4,ANIMATION_THROW_TIME:1e3,COORD_ROUNDING_INTERIM:1,COORD_ROUNDING_FINAL:0,SCALE_ROUNDING_INTERIM:4,SCALE_ROUNDING_FINAL:2};for(const s in t)if(i.hasOwnProperty(s)){let e=t[s];!0===e?e=1:!1===e&&(e=0),i[s]=e}return{DEBUG_MODE:{VALUE:i.DEBUG_MODE,TYPE:s.Integer},SCALE_STEP:{VALUE:i.SCALE_STEP,TYPE:s.Number},SCALE_MIN:{VALUE:i.SCALE_MIN,TYPE:s.Number},SCALE_DEFAULT:{VALUE:i.SCALE_DEFAULT,TYPE:s.Number},SCALE_MAX:{VALUE:i.SCALE_MAX,TYPE:s.Number},SCALE_ROUNDING:{VALUE:i.SCALE_ROUNDING,TYPE:s.Number},SCALE_GLIDE:{VALUE:i.SCALE_GLIDE,TYPE:s.Number},PERSPECTIVE_DISTANCE:{VALUE:Math.round(i.PERSPECTIVE_DISTANCE),TYPE:s.Length},SKEW_X_MAX:{VALUE:Math.round(i.SKEW_X_MAX),TYPE:s.Angle},EDGE_MOVE_ENABLED:{VALUE:i.EDGE_MOVE_ENABLED,TYPE:s.Integer},EDGE_MOVE_AREA:{VALUE:Math.round(i.EDGE_MOVE_AREA),TYPE:s.Length},EDGE_MOVE_SPEED:{VALUE:Math.round(i.EDGE_MOVE_SPEED),TYPE:s.Length},ANIMATION_SCALE_TIME:{VALUE:Math.round(i.ANIMATION_SCALE_TIME),TYPE:s.Time},ANIMATION_GLIDE_TIME:{VALUE:Math.round(i.ANIMATION_GLIDE_TIME),TYPE:s.Time},DURATION_FOR_THROW:{VALUE:Math.round(i.DURATION_FOR_THROW),TYPE:s.Time},THROW_MULTIPLIER:{VALUE:i.THROW_MULTIPLIER,TYPE:s.Number},ANIMATION_THROW_TIME:{VALUE:Math.round(i.ANIMATION_THROW_TIME),TYPE:s.Time},COORD_ROUNDING_INTERIM:{VALUE:i.COORD_ROUNDING_INTERIM,TYPE:s.Integer},COORD_ROUNDING_FINAL:{VALUE:i.COORD_ROUNDING_FINAL,TYPE:s.Integer},SCALE_ROUNDING_INTERIM:{VALUE:i.SCALE_ROUNDING_INTERIM,TYPE:s.Integer},SCALE_ROUNDING_FINAL:{VALUE:i.SCALE_ROUNDING_FINAL,TYPE:s.Integer}}}(e),this.F=this.j(t,i),this.K=this.q(),this.A=new _(this),this.H=new f(this.A),a(this),this.J(),new ResizeObserver((()=>{this.tt(),this.J(),this.it()})).observe(this.elements.container),new ResizeObserver((()=>{this.tt(),this.it()})).observe(this.elements.surface),this.$=new v(this,this.CONFIG.SCALE_DEFAULT.VALUE)}j(t,i){t.classList.add("tilted-container-"+this.id);let s=document.createElement("div");s.classList.add("tilted-viewport-"+this.id);let e=document.createElement("div");e.classList.add("tilted-scale-"+this.id);let h=document.createElement("div");h.classList.add("tilted-position-"+this.id),i.classList.add("tilted-surface-"+this.id);let r=document.createElement("div");r.classList.add("tilted-controls-"+this.id);let o=document.createElement("div");o.classList.add("tilted-controls-zoom-in-"+this.id);let n=document.createElement("div");return n.classList.add("tilted-controls-zoom-out-"+this.id),r.appendChild(o),r.appendChild(n),h.appendChild(i),e.appendChild(h),s.appendChild(e),t.appendChild(s),t.appendChild(r),{container:t,controls:r,controlsZoomIn:o,controlsZoomOut:n,viewport:s,scale:e,position:h,surface:i}}q(){let t=document.createElement("style");t.classList.add("tilted-css-static-"+this.id),t.innerHTML=function(t){let i="";for(const s in t.CONFIG){let e="";"length"===t.CONFIG[s].TYPE?e="px":"angle"===t.CONFIG[s].TYPE?e="deg":"time"===t.CONFIG[s].TYPE&&(e="ms"),i+=`@property --${s} { `,i+=`syntax:"<${t.CONFIG[s].TYPE}>"; `,i+="inherits:true; ",i+=`initial-value:${t.CONFIG[s].VALUE}${e}; } `}return i+=".tilted-container-"+t.id+"{position:relative !important;cursor:move;cursor:grab;cursor:-moz-grab;cursor:-webkit-grab;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.tilted-container-"+t.id+":active{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing;}.tilted-controls-"+t.id+"{position:absolute;top:100px;right:30px;width:30px;border-radius:8px;box-shadow:rgba(0, 0, 0, 0.16) 0px 1px 4px;box-sizing:content-box;overflow:hidden;}.tilted-controls-zoom-in-"+t.id+",.tilted-controls-zoom-out-"+t.id+"{position:relative;width:30px;height:30px;background:#ffffffcc;cursor:pointer;box-sizing:content-box;}.tilted-controls-zoom-in-"+t.id+"{border-bottom:1px solid #444444;}.tilted-controls-zoom-in-"+t.id+":active,.tilted-controls-zoom-out-"+t.id+":active{background:#ffffff;}.tilted-controls-zoom-in-"+t.id+":before,.tilted-controls-zoom-in-"+t.id+":after,.tilted-controls-zoom-out-"+t.id+':before{content:"";display:block;position:absolute;background:#444444;}.tilted-controls-zoom-in-'+t.id+":before,.tilted-controls-zoom-out-"+t.id+":before{height:2px;width:18px;top:14px;left:6px;}.tilted-controls-zoom-in-"+t.id+":after{height:18px;width:2px;top:6px;left:14px;}.tilted-viewport-"+t.id+"{width:var(--tilted-surface-width-"+t.id+") !important;height:var(--tilted-surface-height-"+t.id+") !important;position:relative !important;will-change:top,left;}.tilted-scale-"+t.id+"{   width:var(--tilted-surface-width-"+t.id+") !important;height:var(--tilted-surface-height-"+t.id+") !important;will-change:transform;}.tilted-position-"+t.id+"{width:var(--tilted-surface-width-"+t.id+") !important;height:var(--tilted-surface-height-"+t.id+") !important;position:relative !important;top:0;left:0;will-change:transform;}.tilted-surface-"+t.id+"{position:relative !important;overflow:visible !important;z-index:100 !important;}",i}(this),document.head.appendChild(t);let i=document.createElement("style");return i.classList.add("tilted-css-dynamic-"+this.id),i.innerHTML=A(this),document.head.appendChild(i),{static:t,dynamic:i}}tt(){this.K.dynamic.innerHTML=A(this)}get containerWidth(){return this.elements.container.offsetWidth}get containerHeight(){return this.elements.container.offsetHeight}get surfaceWidth(){return this.elements.surface.offsetWidth}get surfaceHeight(){return this.elements.surface.offsetHeight}get st(){return{x:Math.round(this.surfaceWidth/2-.25*this.containerWidth),y:Math.round(this.surfaceHeight/2-.25*this.containerHeight)}}get min(){return{x:-1*this.st.x,y:-1*this.st.y}}get max(){return{x:this.st.x,y:this.st.y}}move(t,i=this.CONFIG.COORD_ROUNDING_INTERIM.VALUE,s=this.CONFIG.COORD_ROUNDING_FINAL.VALUE){if(0===t.x&&0===t.y)return!1;if(i>=0&&(t.x=r(t.x,i),t.y=r(t.y,i)),0===t.x&&0===t.y)return!1;let e;return e=s>=0?{x:r(this.Z.x+t.x,s),y:r(this.Z.y+t.y,s)}:{x:this.Z.x+t.x,y:this.Z.y+t.y},e={x:o(e.x,this.min.x,this.max.x),y:o(e.y,this.min.y,this.max.y)},(e.x!==this.Z.x||e.y!==this.Z.y)&&(this.Z=e,this.elements.position.style.transform="translate3d("+-1*this.Z.x+"px, "+-1*this.Z.y+"px, 0)",!0)}moveTo(t,i=this.CONFIG.COORD_ROUNDING_FINAL.VALUE){return i>=0&&(t={x:r(t.x,i),y:r(t.y,i)}),(this.Z.x!==t.x||this.Z.y!==t.y)&&(this.CONFIG.DEBUG_MODE.VALUE&&this.log([{desc:"moveTo coords.x",from:this.Z.x,to:t.x},{desc:"moveTo coords.y",from:this.Z.y,to:t.y}]),this.move({x:t.x-this.Z.x,y:t.y-this.Z.y},-1,i))}glide(t,s=this.CONFIG.ANIMATION_GLIDE_TIME.VALUE,e=i.EaseOutCirc,h=this.CONFIG.COORD_ROUNDING_INTERIM.VALUE,n=this.CONFIG.COORD_ROUNDING_FINAL.VALUE){if(0===t.x&&0===t.y)return!1;if(h>=0&&(t={x:r(t.x,h),y:r(t.y,h)}),0===t.x&&0===t.y)return!1;let l;return l=n>=0?{x:r(this.Z.x+t.x,n),y:r(this.Z.y+t.y,n)}:{x:this.Z.x+t.x,y:this.Z.y+t.y},!(0===(t={x:o(l.x,this.min.x,this.max.x)-this.Z.x,y:o(l.y,this.min.y,this.max.y)-this.Z.y}).x&&0===t.y||(h>=0&&(t={x:r(t.x,h),y:r(t.y,h)}),0===t.x&&0===t.y||(this.CONFIG.DEBUG_MODE.VALUE&&this.log([{desc:"glide coords.x",to:t.x},{desc:"glide coords.y",to:t.y}]),this.A.createSurfaceGlide({x:t.x,y:t.y},s,e),this.H.initiate(),0)))}glideTo(t,s=this.CONFIG.ANIMATION_GLIDE_TIME.VALUE,e=i.EaseOutCirc,h=this.CONFIG.COORD_ROUNDING_FINAL.VALUE){return h>=0&&(t={x:r(t.x,h),y:r(t.y,h)}),(this.Z.x!==t.x||this.Z.y!==t.y)&&(this.CONFIG.DEBUG_MODE.VALUE&&this.log([{desc:"glideTo coords.x",from:this.Z.x,to:t.x},{desc:"glideTo coords.y",from:this.Z.y,to:t.y}]),this.glide({x:t.x-this.Z.x,y:t.y-this.Z.y},s,e,-1,h))}J(){this.B={x:0-this.surfaceWidth/2+this.containerWidth/2,y:0-this.surfaceHeight/2+this.containerHeight/2},this.elements.viewport.style.top=this.B.y+"px",this.elements.viewport.style.left=this.B.x+"px"}updateSkew(t=null){null===t&&(t=this.scale.value);let i=(t-this.CONFIG.SCALE_MIN.VALUE)/(this.CONFIG.SCALE_MAX.VALUE-this.CONFIG.SCALE_MIN.VALUE);this.X={x:r(i*this.CONFIG.SKEW_X_MAX.VALUE,2),y:0}}log(t=!1){if(0===this.CONFIG.DEBUG_MODE.VALUE)return;let i="";if(t)for(let s of t)i+=s.desc+(void 0!==s.from?" from "+s.from:"")+(void 0!==s.to?" to "+s.to:"")+"\n";console.log(i+`x: ${this.Z.x}\n`+`y: ${this.Z.y}\n`+`limit.x: ${this.st.x}\n`+`limit.y: ${this.st.y}\n`+`scale: ${this.scale.value}`)}cancelOngoingMoves(){this.A.destroySurfaceGlide()}it(){this.moveTo({x:o(this.Z.x,this.min.x,this.max.x),y:o(this.Z.y,this.min.y,this.max.y)})}};Tilted=h.default})();